var app=function(){"use strict";function t(){}function e(t){return t()}function n(){return Object.create(null)}function o(t){t.forEach(e)}function a(t){return"function"==typeof t}function r(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function u(t,e){t.appendChild(e)}function i(t,e,n){t.insertBefore(e,n||null)}function s(t){t.parentNode.removeChild(t)}function l(t){return document.createElement(t)}function c(t){return document.createTextNode(t)}function h(){return c(" ")}function p(t,e,n,o){return t.addEventListener(e,n,o),()=>t.removeEventListener(e,n,o)}function f(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function v(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function d(t,e){t.value=null==e?"":e}function m(t,e,n,o){t.style.setProperty(e,n,o?"important":"")}let g;function y(t){g=t}function w(){if(!g)throw new Error("Function called outside component initialization");return g}const M=[],x=[],b=[],$=[],E=Promise.resolve();let P=!1;function L(t){b.push(t)}function k(t){$.push(t)}let I=!1;const R=new Set;function A(){if(!I){I=!0;do{for(let t=0;t<M.length;t+=1){const e=M[t];y(e),T(e.$$)}for(y(null),M.length=0;x.length;)x.pop()();for(let t=0;t<b.length;t+=1){const e=b[t];R.has(e)||(R.add(e),e())}b.length=0}while(M.length);for(;$.length;)$.pop()();P=!1,I=!1,R.clear()}}function T(t){if(null!==t.fragment){t.update(),o(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(L)}}const _=new Set;function D(t,e){t&&t.i&&(_.delete(t),t.i(e))}function S(t,e,n,o){if(t&&t.o){if(_.has(t))return;_.add(t),undefined.c.push(()=>{_.delete(t),o&&(n&&t.d(1),o())}),t.o(e)}}function q(t,e,n){const o=t.$$.props[e];void 0!==o&&(t.$$.bound[o]=n,n(t.$$.ctx[o]))}function O(t){t&&t.c()}function C(t,n,r,u){const{fragment:i,on_mount:s,on_destroy:l,after_update:c}=t.$$;i&&i.m(n,r),u||L(()=>{const n=s.map(e).filter(a);l?l.push(...n):o(n),t.$$.on_mount=[]}),c.forEach(L)}function j(t,e){const n=t.$$;null!==n.fragment&&(o(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function F(t,e){-1===t.$$.dirty[0]&&(M.push(t),P||(P=!0,E.then(A)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function N(e,a,r,u,i,l,c=[-1]){const h=g;y(e);const p=e.$$={fragment:null,ctx:null,props:l,update:t,not_equal:i,bound:n(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(h?h.$$.context:a.context||[]),callbacks:n(),dirty:c,skip_bound:!1};let f=!1;if(p.ctx=r?r(e,a.props||{},(t,n,...o)=>{const a=o.length?o[0]:n;return p.ctx&&i(p.ctx[t],p.ctx[t]=a)&&(!p.skip_bound&&p.bound[t]&&p.bound[t](a),f&&F(e,t)),n}):[],p.update(),f=!0,o(p.before_update),p.fragment=!!u&&u(p.ctx),a.target){if(a.hydrate){const t=function(t){return Array.from(t.childNodes)}(a.target);p.fragment&&p.fragment.l(t),t.forEach(s)}else p.fragment&&p.fragment.c();a.intro&&D(e.$$.fragment),C(e,a.target,a.anchor,a.customElement),A()}y(h)}class U{$destroy(){j(this,1),this.$destroy=t}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}var X="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};var z=function(){for(var t=0;t<arguments.length;t++)if(void 0!==arguments[t])return arguments[t]},Y=function(t,e,n){if("number"!=typeof e||"number"!=typeof n)throw new TypeError('Must specify "to" and "from" arguments as numbers');if(e>n){var o=e;e=n,n=o}var a=n-e;if(0===a)return n;return t-a*Math.floor((t-e)/a)},B=Number.EPSILON;function H(t,e,n){return e<n?t<e?e:t>n?n:t:t<n?n:t>e?e:t}function W(t,e,n){return t*(1-n)+e*n}function G(t,e,n){return Math.abs(t-e)<B?0:(n-t)/(e-t)}function K(t,e){return e=z(e,0),"number"==typeof t&&isFinite(t)?t:e}function V(t){if("number"!=typeof t)throw new TypeError("Expected dims argument");return function(e,n){var o;n=z(n,0),null==e?o=n:"number"==typeof e&&isFinite(e)&&(o=e);var a,r=[];if(null==o)for(a=0;a<t;a++)r[a]=K(e[a],n);else for(a=0;a<t;a++)r[a]=o;return r}}function Z(t,e,n,o){if(o=o||[],t.length!==e.length)throw new TypeError("min and max array are expected to have the same length");for(var a=0;a<t.length;a++)o[a]=W(t[a],e[a],n);return o}function J(t,e){if("number"!=typeof(t=z(t,0)))throw new TypeError("Expected n argument to be a number");for(var n=[],o=0;o<t;o++)n.push(e);return n}function Q(t,e){return(t%e+e)%e}function tt(t,e,n,o){return W(t,e,1-Math.exp(-n*o))}var et={mod:Q,fract:function(t){return t-Math.floor(t)},sign:function(t){return t>0?1:t<0?-1:0},degToRad:function(t){return t*Math.PI/180},radToDeg:function(t){return 180*t/Math.PI},wrap:Y,pingPong:function(t,e){return t=Q(t,2*e),e-Math.abs(t-e)},linspace:function(t,e){if("number"!=typeof(t=z(t,0)))throw new TypeError("Expected n argument to be a number");"boolean"==typeof(e=e||{})&&(e={endpoint:!0});var n=z(e.offset,0);return e.endpoint?J(t).map((function(e,o){return t<=1?0:(o+n)/(t-1)})):J(t).map((function(e,o){return(o+n)/t}))},lerp:W,lerpArray:Z,inverseLerp:G,lerpFrames:function(t,e,n){e=H(e,0,1);var o=t.length-1,a=e*o,r=Math.floor(a),u=a-r,i=Math.min(r+1,o),s=t[r%t.length],l=t[i%t.length];if("number"==typeof s&&"number"==typeof l)return W(s,l,u);if(Array.isArray(s)&&Array.isArray(l))return Z(s,l,u,n);throw new TypeError("Mismatch in value type of two array elements: "+r+" and "+i)},clamp:H,clamp01:function(t){return H(t,0,1)},smoothstep:function(t,e,n){var o=H(G(t,e,n),0,1);return o*o*(3-2*o)},damp:tt,dampArray:function(t,e,n,o,a){a=a||[];for(var r=0;r<t.length;r++)a[r]=tt(t[r],e[r],n,o);return a},mapRange:function(t,e,n,o,a,r){if(Math.abs(e-n)<B)return o;var u=(t-e)/(n-e)*(a-o)+o;return r&&(a<o?u<a?u=a:u>o&&(u=o):u>a?u=a:u<o&&(u=o)),u},expand2D:V(2),expand3D:V(3),expand4D:V(4)},nt=1e-6,ot=function(){var t=new Float32Array(2);return t[0]=0,t[1]=0,t};var at=function(t){var e=new Float32Array(2);return e[0]=t[0],e[1]=t[1],e};var rt=function(t,e){var n=new Float32Array(2);return n[0]=t,n[1]=e,n};var ut=function(t,e){return t[0]=e[0],t[1]=e[1],t};var it=function(t,e,n){return t[0]=e,t[1]=n,t};var st=function(t,e){var n=t[0],o=t[1],a=e[0],r=e[1];return Math.abs(n-a)<=lt*Math.max(1,Math.abs(n),Math.abs(a))&&Math.abs(o-r)<=lt*Math.max(1,Math.abs(o),Math.abs(r))},lt=nt;var ct=function(t,e){return t[0]===e[0]&&t[1]===e[1]};var ht=function(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t};var pt=function(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t};var ft=pt,vt=function(t,e,n){return t[0]=e[0]*n[0],t[1]=e[1]*n[1],t};var dt=vt,mt=function(t,e,n){return t[0]=e[0]/n[0],t[1]=e[1]/n[1],t};var gt=mt,yt=function(t,e){return t[0]=1/e[0],t[1]=1/e[1],t};var wt=function(t,e,n){return t[0]=Math.min(e[0],n[0]),t[1]=Math.min(e[1],n[1]),t};var Mt=function(t,e,n){return t[0]=Math.max(e[0],n[0]),t[1]=Math.max(e[1],n[1]),t};var xt=function(t,e,n){var o=Math.cos(n),a=Math.sin(n),r=e[0],u=e[1];return t[0]=r*o-u*a,t[1]=r*a+u*o,t};var bt=function(t,e){return t[0]=Math.floor(e[0]),t[1]=Math.floor(e[1]),t};var $t=function(t,e){return t[0]=Math.ceil(e[0]),t[1]=Math.ceil(e[1]),t};var Et=function(t,e){return t[0]=Math.round(e[0]),t[1]=Math.round(e[1]),t};var Pt=function(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t};var Lt=function(t,e,n,o){return t[0]=e[0]+n[0]*o,t[1]=e[1]+n[1]*o,t};var kt=function(t,e){var n=e[0]-t[0],o=e[1]-t[1];return Math.sqrt(n*n+o*o)};var It=kt,Rt=function(t,e){var n=e[0]-t[0],o=e[1]-t[1];return n*n+o*o};var At=Rt,Tt=function(t){var e=t[0],n=t[1];return Math.sqrt(e*e+n*n)};var _t=Tt,Dt=function(t){var e=t[0],n=t[1];return e*e+n*n};var St=Dt,qt=function(t,e){return t[0]=-e[0],t[1]=-e[1],t};var Ot=function(t,e){var n=e[0],o=e[1],a=n*n+o*o;a>0&&(a=1/Math.sqrt(a),t[0]=e[0]*a,t[1]=e[1]*a);return t};var Ct=function(t,e){return t[0]*e[0]+t[1]*e[1]};var jt=function(t,e,n){var o=e[0]*n[1]-e[1]*n[0];return t[0]=t[1]=0,t[2]=o,t};var Ft=function(t,e,n,o){var a=e[0],r=e[1];return t[0]=a+o*(n[0]-a),t[1]=r+o*(n[1]-r),t};var Nt=function(t,e){e=e||1;var n=2*Math.random()*Math.PI;return t[0]=Math.cos(n)*e,t[1]=Math.sin(n)*e,t};var Ut=function(t,e,n){var o=e[0],a=e[1];return t[0]=n[0]*o+n[2]*a,t[1]=n[1]*o+n[3]*a,t};var Xt=function(t,e,n){var o=e[0],a=e[1];return t[0]=n[0]*o+n[2]*a+n[4],t[1]=n[1]*o+n[3]*a+n[5],t};var zt=function(t,e,n){var o=e[0],a=e[1];return t[0]=n[0]*o+n[3]*a+n[6],t[1]=n[1]*o+n[4]*a+n[7],t};var Yt=function(t,e,n){var o=e[0],a=e[1];return t[0]=n[0]*o+n[4]*a+n[12],t[1]=n[1]*o+n[5]*a+n[13],t};var Bt=function(t,e,n,o,a,r){var u,i;e||(e=2);n||(n=0);i=o?Math.min(o*e+n,t.length):t.length;for(u=n;u<i;u+=e)Ht[0]=t[u],Ht[1]=t[u+1],a(Ht,Ht,r),t[u]=Ht[0],t[u+1]=Ht[1];return t},Ht=ot();var Wt={EPSILON:nt,create:ot,clone:at,fromValues:rt,copy:ut,set:it,equals:st,exactEquals:ct,add:ht,subtract:pt,sub:ft,multiply:vt,mul:dt,divide:mt,div:gt,inverse:yt,min:wt,max:Mt,rotate:xt,floor:bt,ceil:$t,round:Et,scale:Pt,scaleAndAdd:Lt,distance:kt,dist:It,squaredDistance:Rt,sqrDist:At,length:Tt,len:_t,squaredLength:Dt,sqrLen:St,negate:qt,normalize:Ot,dot:Ct,cross:jt,lerp:Ft,random:Nt,transformMat2:Ut,transformMat2d:Xt,transformMat3:zt,transformMat4:Yt,forEach:Bt,limit:function(t,e,n){var o=e[0]*e[0]+e[1]*e[1];if(o>n*n){var a=Math.sqrt(o);t[0]=e[0]/a*n,t[1]=e[1]/a*n}else t[0]=e[0],t[1]=e[1];return t}};var Gt=function(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t},Kt=function(t,e,n){var o=e[0],a=e[1],r=e[2],u=n[0],i=n[1],s=n[2];return t[0]=a*s-r*i,t[1]=r*u-o*s,t[2]=o*i-a*u,t},Vt=function(t){var e=t[0],n=t[1],o=t[2];return e*e+n*n+o*o},Zt=[],Jt=[],Qt=[],te=function(t,e,n){Gt(Zt,n,e),Gt(Jt,t,e);var o=Vt(Kt(Qt,Jt,Zt)),a=Vt(Zt);if(0===a)throw Error("a and b are the same point");return o/a};function ee(e){let n,a,r;return{c(){n=l("canvas"),f(n,"width",e[1]),f(n,"height",e[1])},m(t,o){i(t,n,o),e[8](n),a||(r=[p(n,"mousedown",e[2]),p(n,"touchstart",e[3])],a=!0)},p(t,[e]){2&e&&f(n,"width",t[1]),2&e&&f(n,"height",t[1])},i:t,o:t,d(t){t&&s(n),e[8](null),a=!1,o(r)}}}function ne(t,e,n){let o,a,{canvas:r}=e,{size:u=1024}=e,{steps:i=4}=e,{name:s}=e,{angle:l=1*Math.PI}=e,{spread:c=.25}=e,h=(t=100,e=10,n=100,o=0)=>{let a=n*Math.sqrt(2)/2,r=2*Math.PI/4,u=.25*Math.PI+o,i=`M ${t+a*Math.cos(u)},${e+a*Math.sin(u)} `;for(let n=0;n<=4;n++){const o=r*n+u;i+=`L ${t+a*Math.cos(o)},${e+a*Math.sin(o)} `}return i+="Z",new Path2D(i)},p=()=>{a=r.getContext("2d"),a.fillStyle="#330011",a.lineWidth=u/200,a.fillRect(0,0,u,u);let t=u-2*o,e=t/i*.65,n=[o,o],s=[u-o,u-o],p=[u/2,u/2],f=[-u,0,0];Wt.rotate(f,f,l),Wt.add(f,f,p);let v=[u,0,0];Wt.rotate(v,v,l),Wt.add(v,v,p),((t=[0,0,100,100],e=10,n=10,o=[.5,.5])=>{const[a,r,u,i]=t,s=u/e,l=i/n,c=s*o[0],h=l*o[1],p=[];for(let t=0;t<=n-1;t++){const n=parseInt(r+t*l+h);for(let t=0;t<=e-1;t++){const e=parseInt(a+t*s+c);p.push([e,n,0])}}return p})([o,o,t,t],i,i,[.5,.5]).map(t=>{let o=function(t,e,n){return Math.sqrt(te(t,e,n))}(t,f,v),[r,i]=t,l=Wt.dist(n,t),p=Wt.dist(n,s),d=parseInt(40*Math.random());d=et.mapRange(l,0,p,0,40,!0);let m=et.mapRange(l,0,p,30,60,!0);a.fillStyle=`hsl(${d}, 100%, ${m}%)`;let g=et.mapRange(o,0,u*c,1,0,!0),y=et.mapRange(Math.random(),0,1,.25*g*-Math.PI,.25*g*Math.PI,!0),w=et.mapRange(Math.random()*g,0,1,0,0,!0);a.fill(h(r,i,e+w,y)),y=et.mapRange(Math.random(),0,1,.25*g*-Math.PI,.25*g*Math.PI,!0),w=et.mapRange(Math.random()*g,0,1,e/2,e/2,!0),a.strokeStyle=`hsla(${d}, 100%, ${m+30}%,${g})`,a.stroke(h(r,i,e-w,y))})};var f;function v(t,e){let{top:o,left:a,width:u,height:i}=r.getBoundingClientRect(),s=a+u/2,h=o+i/2,p=Wt.dist([s,h],[t,e]);n(5,c=(1-p/(u/2)).toFixed(2)),n(5,c=Math.max(c,.05)),n(4,l=Math.atan2(h-e,s-t)),n(4,l=l<0?Math.PI+l:l),n(4,l=l.toFixed(2))}function d(t){v(t.clientX,t.clientY)}function m(t){document.body.style.cursor="default",window.removeEventListener("mousemove",d),window.removeEventListener("mouseup",m)}function g(t){let e=t.changedTouches[0];console.log(e.clientX,e.clientY),v(e.clientX,e.clientY)}function y(t){console.log("touchUp"),document.body.style.cursor="default",window.removeEventListener("touchmove",g),window.removeEventListener("touchend",y)}return f=p,w().$$.on_mount.push(f),function(t){w().$$.after_update.push(t)}(p),t.$$set=t=>{"canvas"in t&&n(0,r=t.canvas),"size"in t&&n(1,u=t.size),"steps"in t&&n(7,i=t.steps),"name"in t&&n(6,s=t.name),"angle"in t&&n(4,l=t.angle),"spread"in t&&n(5,c=t.spread)},t.$$.update=()=>{2&t.$$.dirty&&(o=u/12),178&t.$$.dirty&&n(6,s=`chaos4marius-${i}_columns-angle_${Math.round(et.radToDeg(l))}-spread_${Math.round(100*c)}-${u}x${u}`)},[r,u,function(t){document.body.style.cursor="ew-resize",v(t.clientX,t.clientY),window.addEventListener("mousemove",d),window.addEventListener("mouseup",m)},function(t){let e=t.touches[0];console.log(e.clientX,e.clientY),v(e.clientX,e.clientY),console.log("touchdown"),window.addEventListener("touchmove",g),window.addEventListener("touchend",y)},l,c,s,i,function(t){x[t?"unshift":"push"](()=>{r=t,n(0,r)})}]}class oe extends U{constructor(t){super(),N(this,t,ne,ee,r,{canvas:0,size:1,steps:7,name:6,angle:4,spread:5})}}var ae=function(t){this.value=t};ae.math={isDegree:!0,acos:function(t){return ae.math.isDegree?180/Math.PI*Math.acos(t):Math.acos(t)},add:function(t,e){return t+e},asin:function(t){return ae.math.isDegree?180/Math.PI*Math.asin(t):Math.asin(t)},atan:function(t){return ae.math.isDegree?180/Math.PI*Math.atan(t):Math.atan(t)},acosh:function(t){return Math.log(t+Math.sqrt(t*t-1))},asinh:function(t){return Math.log(t+Math.sqrt(t*t+1))},atanh:function(t){return Math.log((1+t)/(1-t))},C:function(t,e){var n=1,o=t-e,a=e;a<o&&(a=o,o=e);for(var r=a+1;r<=t;r++)n*=r;return n/ae.math.fact(o)},changeSign:function(t){return-t},cos:function(t){return ae.math.isDegree&&(t=ae.math.toRadian(t)),Math.cos(t)},cosh:function(t){return(Math.pow(Math.E,t)+Math.pow(Math.E,-1*t))/2},div:function(t,e){return t/e},fact:function(t){if(t%1!=0)return"NaN";for(var e=1,n=2;n<=t;n++)e*=n;return e},inverse:function(t){return 1/t},log:function(t){return Math.log(t)/Math.log(10)},mod:function(t,e){return t%e},mul:function(t,e){return t*e},P:function(t,e){for(var n=1,o=Math.floor(t)-Math.floor(e)+1;o<=Math.floor(t);o++)n*=o;return n},Pi:function(t,e,n){for(var o=1,a=t;a<=e;a++)o*=Number(n.postfixEval({n:a}));return o},pow10x:function(t){for(var e=1;t--;)e*=10;return e},sigma:function(t,e,n){for(var o=0,a=t;a<=e;a++)o+=Number(n.postfixEval({n:a}));return o},sin:function(t){return ae.math.isDegree&&(t=ae.math.toRadian(t)),Math.sin(t)},sinh:function(t){return(Math.pow(Math.E,t)-Math.pow(Math.E,-1*t))/2},sub:function(t,e){return t-e},tan:function(t){return ae.math.isDegree&&(t=ae.math.toRadian(t)),Math.tan(t)},tanh:function(t){return ae.sinha(t)/ae.cosha(t)},toRadian:function(t){return t*Math.PI/180}},ae.Exception=function(t){this.message=t};var re=ae;function ue(t,e){for(var n=0;n<t.length;n++)t[n]+=e;return t}var ie=["sin","cos","tan","pi","(",")","P","C"," ","asin","acos","atan","7","8","9","int","cosh","acosh","ln","^","root","4","5","6","/","!","tanh","atanh","Mod","1","2","3","*","sinh","asinh","e","log","0",".","+","-",",","Sigma","n","Pi","pow"],se=["sin","cos","tan","&pi;","(",")","P","C"," ","asin","acos","atan","7","8","9","Int","cosh","acosh"," ln","^","root","4","5","6","&divide;","!","tanh","atanh"," Mod ","1","2","3","&times;","sinh","asinh","e"," log","0",".","+","-",",","&Sigma;","n","&Pi;","pow"],le=[re.math.sin,re.math.cos,re.math.tan,"PI","(",")",re.math.P,re.math.C," ".anchor,re.math.asin,re.math.acos,re.math.atan,"7","8","9",Math.floor,re.math.cosh,re.math.acosh,Math.log,Math.pow,Math.sqrt,"4","5","6",re.math.div,re.math.fact,re.math.tanh,re.math.atanh,re.math.mod,"1","2","3",re.math.mul,re.math.sinh,re.math.asinh,"E",re.math.log,"0",".",re.math.add,re.math.sub,",",re.math.sigma,"n",re.math.Pi,Math.pow],ce={0:11,1:0,2:3,3:0,4:0,5:0,6:0,7:11,8:11,9:1,10:10,11:0,12:11,13:0,14:-1},he=[0,0,0,3,4,5,10,10,14,0,0,0,1,1,1,0,0,0,0,10,0,1,1,1,2,7,0,0,2,1,1,1,2,0,0,3,0,1,6,9,9,11,12,13,12,8],pe={0:!0,1:!0,3:!0,4:!0,6:!0,8:!0,9:!0,12:!0,13:!0,14:!0},fe={0:!0,1:!0,2:!0,3:!0,4:!0,5:!0,6:!0,7:!0,8:!0,9:!0,10:!0,11:!0,12:!0,13:!0},ve={0:!0,3:!0,4:!0,8:!0,12:!0,13:!0},de={},me={0:!0,1:!0,3:!0,4:!0,6:!0,8:!0,12:!0,13:!0},ge={1:!0},ye=[[],["1","2","3","7","8","9","4","5","6","+","-","*","/","(",")","^","!","P","C","e","0",".",",","n"," "],["pi","ln","Pi"],["sin","cos","tan","Del","int","Mod","log","pow"],["asin","acos","atan","cosh","root","tanh","sinh"],["acosh","atanh","asinh","Sigma"]];function we(t,e,n,o){for(var a=0;a<o;a++)if(t[n+a]!==e[a])return!1;return!0}re.addToken=function(t){for(var e=0;e<t.length;e++){var n=t[e].token.length,o=-1;ye[n]=ye[n]||[];for(var a=0;a<ye[n].length;a++)if(t[e].token===ye[n][a]){o=ie.indexOf(ye[n][a]);break}-1===o?(ie.push(t[e].token),he.push(t[e].type),ye.length<=t[e].token.length&&(ye[t[e].token.length]=[]),ye[t[e].token.length].push(t[e].token),le.push(t[e].value),se.push(t[e].show)):(ie[o]=t[e].token,he[o]=t[e].type,le[o]=t[e].value,se[o]=t[e].show)}},re.lex=function(t,e){var n,o={value:re.math.changeSign,type:0,pre:21,show:"-"},a={value:")",show:")",type:5,pre:0},r={value:"(",type:4,pre:0,show:"("},u=[r],i=[],s=t,l=pe,c=0,h=de,p="";void 0!==e&&re.addToken(e);var f={},v=function(t){for(var e,n,o,a=[],r=t.length,u=0;u<r;u++)if(!(u<r-1&&" "===t[u]&&" "===t[u+1])){for(e="",n=t.length-u>ye.length-2?ye.length-1:t.length-u;n>0;n--)if(void 0!==ye[n])for(o=0;o<ye[n].length;o++)we(t,ye[n][o],u,n)&&(e=ye[n][o],o=ye[n].length,n=0);if(u+=e.length-1,""===e)throw new re.Exception("Can't understand after "+t.slice(u));var i=ie.indexOf(e);a.push({index:i,token:e,type:he[i],eval:le[i],precedence:ce[he[i]],show:se[i]})}return a}(s);for(n=0;n<v.length;n++){var d=v[n];if(14!==d.type){d.index;var m,g=d.token,y=d.type,w=d.eval,M=d.precedence,x=d.show,b=u[u.length-1];for(m=i.length;m--&&0===i[m];)if(-1!==[0,2,3,4,5,9,11,12,13].indexOf(y)){if(!0!==l[y])throw console.log(t,d,v,l),new re.Exception(g+" is not allowed after "+p);u.push(a),l=fe,h=me,ue(i,-1).pop()}if(!0!==l[y])throw new re.Exception(g+" is not allowed after "+p);if(!0===h[y]&&(y=2,w=re.math.mul,x="&times;",M=3,n-=g.length),f={value:w,type:y,pre:M,show:x},0===y)l=pe,h=de,ue(i,2).push(2),u.push(f),u.push(r);else if(1===y)1===b.type?(b.value+=w,ue(i,1)):u.push(f),l=fe,h=ve;else if(2===y)l=pe,h=de,ue(i,2),u.push(f);else if(3===y)u.push(f),l=fe,h=me;else if(4===y)ue(i,1),c++,l=pe,h=de,u.push(f);else if(5===y){if(!c)throw new re.Exception("Closing parenthesis are more than opening one, wait What!!!");c--,l=fe,h=me,u.push(f),ue(i,1)}else if(6===y){if(b.hasDec)throw new re.Exception("Two decimals are not allowed in one number");1!==b.type&&(b={value:0,type:1,pre:0},u.push(b),ue(i,-1)),l=ge,ue(i,1),h=de,b.value+=w,b.hasDec=!0}else 7===y&&(l=fe,h=me,ue(i,1),u.push(f));8===y?(l=pe,h=de,ue(i,4).push(4),u.push(f),u.push(r)):9===y?(9===b.type?b.value===re.math.add?(b.value=w,b.show=x,ue(i,1)):b.value===re.math.sub&&"-"===x&&(b.value=re.math.add,b.show="+",ue(i,1)):5!==b.type&&7!==b.type&&1!==b.type&&3!==b.type&&13!==b.type?"-"===g&&(l=pe,h=de,ue(i,2).push(2),u.push(o),u.push(r)):(u.push(f),ue(i,2)),l=pe,h=de):10===y?(l=pe,h=de,ue(i,2),u.push(f)):11===y?(l=pe,h=de,u.push(f)):12===y?(l=pe,h=de,ue(i,6).push(6),u.push(f),u.push(r)):13===y&&(l=fe,h=me,u.push(f)),ue(i,-1),p=g}else if(n>0&&n<v.length-1&&1===v[n+1].type&&(1===v[n-1].type||6===v[n-1].type))throw new re.Exception("Unexpected Space")}for(m=i.length;m--&&0===i[m];)u.push(a),ue(i,-1).pop();if(!0!==l[5])throw new re.Exception("complete the expression");for(;c--;)u.push(a);return u.push(a),new re(u)};var Me=re;Me.prototype.toPostfix=function(){for(var t,e,n,o,a,r=[],u=[{value:"(",type:4,pre:0}],i=this.value,s=1;s<i.length;s++)if(1===i[s].type||3===i[s].type||13===i[s].type)1===i[s].type&&(i[s].value=Number(i[s].value)),r.push(i[s]);else if(4===i[s].type)u.push(i[s]);else if(5===i[s].type)for(;4!==(e=u.pop()).type;)r.push(e);else if(11===i[s].type){for(;4!==(e=u.pop()).type;)r.push(e);u.push(e)}else{o=(t=i[s]).pre,n=(a=u[u.length-1]).pre;var l="Math.pow"==a.value&&"Math.pow"==t.value;if(o>n)u.push(t);else{for(;n>=o&&!l||l&&o<n;)e=u.pop(),a=u[u.length-1],r.push(e),n=a.pre,l="Math.pow"==t.value&&"Math.pow"==a.value;u.push(t)}}return new Me(r)};var xe=Me;xe.prototype.postfixEval=function(t){(t=t||{}).PI=Math.PI,t.E=Math.E;for(var e,n,o,a=[],r=this.value,u=void 0!==t.n,i=0;i<r.length;i++)1===r[i].type?a.push({value:r[i].value,type:1}):3===r[i].type?a.push({value:t[r[i].value],type:1}):0===r[i].type||7===r[i].type?void 0===a[a.length-1].type?a[a.length-1].value.push(r[i]):a[a.length-1].value=r[i].value(a[a.length-1].value):8===r[i].type?(e=a.pop(),n=a.pop(),a.push({type:1,value:r[i].value(n.value,e.value)})):10===r[i].type?(e=a.pop(),void 0===(n=a.pop()).type?(n.value=n.concat(e),n.value.push(r[i]),a.push(n)):void 0===e.type?(e.unshift(n),e.push(r[i]),a.push(e)):a.push({type:1,value:r[i].value(n.value,e.value)})):2===r[i].type||9===r[i].type?(e=a.pop(),void 0===(n=a.pop()).type?((n=n.concat(e)).push(r[i]),a.push(n)):void 0===e.type?(e.unshift(n),e.push(r[i]),a.push(e)):a.push({type:1,value:r[i].value(n.value,e.value)})):12===r[i].type?(void 0!==(e=a.pop()).type&&(e=[e]),n=a.pop(),o=a.pop(),a.push({type:1,value:r[i].value(o.value,n.value,new xe(e))})):13===r[i].type&&(u?a.push({value:t[r[i].value],type:3}):a.push([r[i]]));if(a.length>1)throw new xe.Exception("Uncaught Syntax error");return a[0].value>1e15?"Infinity":parseFloat(a[0].value.toFixed(15))},xe.eval=function(t,e,n){return void 0===e?this.lex(t).toPostfix().postfixEval():void 0===n?void 0!==e.length?this.lex(t,e).toPostfix().postfixEval():this.lex(t).toPostfix().postfixEval(e):this.lex(t,e).toPostfix().postfixEval(n)};var be=xe;be.prototype.formulaEval=function(){for(var t,e,n,o=[],a=this.value,r=0;r<a.length;r++)1===a[r].type||3===a[r].type?o.push({value:3===a[r].type?a[r].show:a[r].value,type:1}):13===a[r].type?o.push({value:a[r].show,type:1}):0===a[r].type?o[o.length-1]={value:a[r].show+("-"!=a[r].show?"(":"")+o[o.length-1].value+("-"!=a[r].show?")":""),type:0}:7===a[r].type?o[o.length-1]={value:(1!=o[o.length-1].type?"(":"")+o[o.length-1].value+(1!=o[o.length-1].type?")":"")+a[r].show,type:7}:10===a[r].type?(t=o.pop(),e=o.pop(),"P"===a[r].show||"C"===a[r].show?o.push({value:"<sup>"+e.value+"</sup>"+a[r].show+"<sub>"+t.value+"</sub>",type:10}):o.push({value:(1!=e.type?"(":"")+e.value+(1!=e.type?")":"")+"<sup>"+t.value+"</sup>",type:1})):2===a[r].type||9===a[r].type?(t=o.pop(),e=o.pop(),o.push({value:(1!=e.type?"(":"")+e.value+(1!=e.type?")":"")+a[r].show+(1!=t.type?"(":"")+t.value+(1!=t.type?")":""),type:a[r].type})):12===a[r].type&&(t=o.pop(),e=o.pop(),n=o.pop(),o.push({value:a[r].show+"("+n.value+","+e.value+","+t.value+")",type:12}));return o[0].value};var $e=be;function Ee(t){let e,n,o;return{c(){e=l("div"),n=l("span"),o=c(t[0]),f(n,"class","svelte-1emuf9x"),f(e,"class","tooltip svelte-1emuf9x"),m(e,"--x",t[2]+"px"),m(e,"--y",t[3]+"px")},m(t,a){i(t,e,a),u(e,n),u(n,o)},p(t,n){1&n&&v(o,t[0]),4&n&&m(e,"--x",t[2]+"px"),8&n&&m(e,"--y",t[3]+"px")},d(t){t&&s(e)}}}function Pe(e){let n,a,r,m,g,y,w,M,x,b=e[4]&&Ee(e);return{c(){n=l("label"),a=l("span"),r=c(e[1]),m=h(),g=l("input"),y=h(),b&&b.c(),w=c(""),f(a,"class","svelte-1emuf9x"),f(g,"type","text"),f(g,"class","svelte-1emuf9x"),f(n,"class","svelte-1emuf9x")},m(t,o){i(t,n,o),u(n,a),u(a,r),u(n,m),u(n,g),d(g,e[5]),i(t,y,o),b&&b.m(t,o),i(t,w,o),M||(x=[p(a,"mousedown",e[6]),p(g,"change",e[7]),p(g,"input",e[12]),p(n,"touchstart",e[8])],M=!0)},p(t,[e]){2&e&&v(r,t[1]),32&e&&g.value!==t[5]&&d(g,t[5]),t[4]?b?b.p(t,e):(b=Ee(t),b.c(),b.m(w.parentNode,w)):b&&(b.d(1),b=null)},i:t,o:t,d(t){t&&s(n),t&&s(y),b&&b.d(t),t&&s(w),M=!1,o(x)}}}function Le(t,e,n){let o;var{label:a="x"}=e,{value:r=50}=e,{min:u=0}=e,{max:i=1e3}=e,{step:s=1}=e;let l=0,c=0,h=!1;function p(t){let e=parseInt(t-l);n(2,l=t);let a=r+e*s;n(0,r=Math.max(u,Math.min(i,a))),n(5,o=r)}function f(t){n(3,c=t.clientY),p(t.clientX)}function v(t){document.body.style.cursor="default",window.removeEventListener("mousemove",f),window.removeEventListener("mouseup",v),n(4,h=!1)}function d(t){let e=t.changedTouches[0];n(3,c=e.clientY),p(e.clientX)}function m(t){document.body.style.cursor="default",n(4,h=!1),window.removeEventListener("touchmove",d),window.removeEventListener("touchend",m)}return t.$$set=t=>{"label"in t&&n(1,a=t.label),"value"in t&&n(0,r=t.value),"min"in t&&n(9,u=t.min),"max"in t&&n(10,i=t.max),"step"in t&&n(11,s=t.step)},t.$$.update=()=>{1&t.$$.dirty&&n(5,o=r)},[r,a,l,c,h,o,function(t){document.body.style.cursor="ew-resize",n(3,c=t.clientY),p(t.clientX),n(4,h=!0),window.addEventListener("mousemove",f),window.addEventListener("mouseup",v)},function(t){let e=$e.eval(""+o);n(0,r=n(0,r=Math.max(u,Math.min(i,e)))),n(5,o=r)},function(t){let e=t.touches[0];n(3,c=e.clientY),n(4,h=!0),p(e.clientX),window.addEventListener("touchmove",d),window.addEventListener("touchend",m)},u,i,s,function(){o=this.value,n(5,o),n(0,r)}]}class ke extends U{constructor(t){super(),N(this,t,Le,Pe,r,{label:1,value:0,min:9,max:10,step:11})}}var Ie;function Re(t){let e,n,o,a,r,c,v,d,m,g,y,w,M,b,$,E,P,L;function I(e){t[7](e)}function R(e){t[8](e)}function A(e){t[9](e)}function T(e){t[10](e)}let _={size:t[1],steps:t[2]};function F(e){t[11](e)}void 0!==t[5]&&(_.angle=t[5]),void 0!==t[4]&&(_.spread=t[4]),void 0!==t[3]&&(_.canvas=t[3]),void 0!==t[0]&&(_.name=t[0]),n=new oe({props:_}),x.push(()=>q(n,"angle",I)),x.push(()=>q(n,"spread",R)),x.push(()=>q(n,"canvas",A)),x.push(()=>q(n,"name",T));let N={label:"w",min:400,max:3e3,step:8};function U(e){t[12](e)}void 0!==t[1]&&(N.value=t[1]),m=new ke({props:N}),x.push(()=>q(m,"value",F));let X={label:"c",min:3,max:24};return void 0!==t[2]&&(X.value=t[2]),w=new ke({props:X}),x.push(()=>q(w,"value",U)),{c(){e=l("div"),O(n.$$.fragment),v=h(),d=l("div"),O(m.$$.fragment),y=h(),O(w.$$.fragment),b=h(),$=l("button"),$.textContent="Download Image",f($,"class","svelte-f50ngv"),f(d,"class","ui svelte-f50ngv")},m(o,a){i(o,e,a),C(n,e,null),i(o,v,a),i(o,d,a),C(m,d,null),u(d,y),C(w,d,null),u(d,b),u(d,$),E=!0,P||(L=p($,"click",t[6]),P=!0)},p(t,[e]){const u={};2&e&&(u.size=t[1]),4&e&&(u.steps=t[2]),!o&&32&e&&(o=!0,u.angle=t[5],k(()=>o=!1)),!a&&16&e&&(a=!0,u.spread=t[4],k(()=>a=!1)),!r&&8&e&&(r=!0,u.canvas=t[3],k(()=>r=!1)),!c&&1&e&&(c=!0,u.name=t[0],k(()=>c=!1)),n.$set(u);const i={};!g&&2&e&&(g=!0,i.value=t[1],k(()=>g=!1)),m.$set(i);const s={};!M&&4&e&&(M=!0,s.value=t[2],k(()=>M=!1)),w.$set(s)},i(t){E||(D(n.$$.fragment,t),D(m.$$.fragment,t),D(w.$$.fragment,t),E=!0)},o(t){S(n.$$.fragment,t),S(m.$$.fragment,t),S(w.$$.fragment,t),E=!1},d(t){t&&s(e),j(n),t&&s(v),t&&s(d),j(m),j(w),P=!1,L()}}}function Ae(t,e,n){let o,a,r=1024,u=12,i=.15,s=.25*Math.PI;return[o,r,u,a,i,s,()=>{let t=o+".png";a.toBlob((function(e){saveAs(e,t)}))},function(t){s=t,n(5,s)},function(t){i=t,n(4,i)},function(t){a=t,n(3,a)},function(t){o=t,n(0,o)},function(t){r=t,n(1,r)},function(t){u=t,n(2,u)}]}Ie={exports:{}},function(){function t(t,e){return void 0===e?e={autoBom:!1}:"object"!=typeof e&&(console.warn("Deprecated: Expected third argument to be a object"),e={autoBom:!e}),e.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(t.type)?new Blob(["\ufeff",t],{type:t.type}):t}function e(t,e,n){var o=new XMLHttpRequest;o.open("GET",t),o.responseType="blob",o.onload=function(){u(o.response,e,n)},o.onerror=function(){console.error("could not download file")},o.send()}function n(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch(t){}return 200<=e.status&&299>=e.status}function o(t){try{t.dispatchEvent(new MouseEvent("click"))}catch(n){var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(e)}}var a="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof X&&X.global===X?X:void 0,r=a.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),u=a.saveAs||("object"!=typeof window||window!==a?function(){}:"download"in HTMLAnchorElement.prototype&&!r?function(t,r,u){var i=a.URL||a.webkitURL,s=document.createElement("a");r=r||t.name||"download",s.download=r,s.rel="noopener","string"==typeof t?(s.href=t,s.origin===location.origin?o(s):n(s.href)?e(t,r,u):o(s,s.target="_blank")):(s.href=i.createObjectURL(t),setTimeout((function(){i.revokeObjectURL(s.href)}),4e4),setTimeout((function(){o(s)}),0))}:"msSaveOrOpenBlob"in navigator?function(a,r,u){if(r=r||a.name||"download","string"!=typeof a)navigator.msSaveOrOpenBlob(t(a,u),r);else if(n(a))e(a,r,u);else{var i=document.createElement("a");i.href=a,i.target="_blank",setTimeout((function(){o(i)}))}}:function(t,n,o,u){if((u=u||open("","_blank"))&&(u.document.title=u.document.body.innerText="downloading..."),"string"==typeof t)return e(t,n,o);var i="application/octet-stream"===t.type,s=/constructor/i.test(a.HTMLElement)||a.safari,l=/CriOS\/[\d]+/.test(navigator.userAgent);if((l||i&&s||r)&&"undefined"!=typeof FileReader){var c=new FileReader;c.onloadend=function(){var t=c.result;t=l?t:t.replace(/^data:[^;]*;/,"data:attachment/file;"),u?u.location.href=t:location=t,u=null},c.readAsDataURL(t)}else{var h=a.URL||a.webkitURL,p=h.createObjectURL(t);u?u.location=p:location.href=p,u=null,setTimeout((function(){h.revokeObjectURL(p)}),4e4)}});a.saveAs=u.saveAs=u,Ie.exports=u}();return new class extends U{constructor(t){super(),N(this,t,Ae,Re,r,{})}}({target:document.body})}();
//# sourceMappingURL=bundle.js.map

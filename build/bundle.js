var app=function(){"use strict";function t(){}function e(t){return t()}function n(){return Object.create(null)}function a(t){t.forEach(e)}function o(t){return"function"==typeof t}function r(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function u(t,e){t.appendChild(e)}function i(t,e,n){t.insertBefore(e,n||null)}function s(t){t.parentNode.removeChild(t)}function l(t){return document.createElement(t)}function c(t){return document.createTextNode(t)}function h(){return c(" ")}function p(t,e,n,a){return t.addEventListener(e,n,a),()=>t.removeEventListener(e,n,a)}function f(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function v(t,e){t.value=null==e?"":e}let d;function m(t){d=t}function g(){if(!d)throw new Error("Function called outside component initialization");return d}const y=[],w=[],M=[],b=[],$=Promise.resolve();let x=!1;function E(t){M.push(t)}function P(t){b.push(t)}let k=!1;const L=new Set;function R(){if(!k){k=!0;do{for(let t=0;t<y.length;t+=1){const e=y[t];m(e),A(e.$$)}for(m(null),y.length=0;w.length;)w.pop()();for(let t=0;t<M.length;t+=1){const e=M[t];L.has(e)||(L.add(e),e())}M.length=0}while(y.length);for(;b.length;)b.pop()();x=!1,k=!1,L.clear()}}function A(t){if(null!==t.fragment){t.update(),a(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(E)}}const I=new Set;function _(t,e){t&&t.i&&(I.delete(t),t.i(e))}function T(t,e,n,a){if(t&&t.o){if(I.has(t))return;I.add(t),undefined.c.push(()=>{I.delete(t),a&&(n&&t.d(1),a())}),t.o(e)}}function D(t,e,n){const a=t.$$.props[e];void 0!==a&&(t.$$.bound[a]=n,n(t.$$.ctx[a]))}function q(t){t&&t.c()}function S(t,n,r,u){const{fragment:i,on_mount:s,on_destroy:l,after_update:c}=t.$$;i&&i.m(n,r),u||E(()=>{const n=s.map(e).filter(o);l?l.push(...n):a(n),t.$$.on_mount=[]}),c.forEach(E)}function O(t,e){const n=t.$$;null!==n.fragment&&(a(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function z(t,e){-1===t.$$.dirty[0]&&(y.push(t),x||(x=!0,$.then(R)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function C(e,o,r,u,i,l,c=[-1]){const h=d;m(e);const p=e.$$={fragment:null,ctx:null,props:l,update:t,not_equal:i,bound:n(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(h?h.$$.context:o.context||[]),callbacks:n(),dirty:c,skip_bound:!1};let f=!1;if(p.ctx=r?r(e,o.props||{},(t,n,...a)=>{const o=a.length?a[0]:n;return p.ctx&&i(p.ctx[t],p.ctx[t]=o)&&(!p.skip_bound&&p.bound[t]&&p.bound[t](o),f&&z(e,t)),n}):[],p.update(),f=!0,a(p.before_update),p.fragment=!!u&&u(p.ctx),o.target){if(o.hydrate){const t=function(t){return Array.from(t.childNodes)}(o.target);p.fragment&&p.fragment.l(t),t.forEach(s)}else p.fragment&&p.fragment.c();o.intro&&_(e.$$.fragment),S(e,o.target,o.anchor,o.customElement),R()}m(h)}class j{$destroy(){O(this,1),this.$destroy=t}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}var F="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};var U=function(){for(var t=0;t<arguments.length;t++)if(void 0!==arguments[t])return arguments[t]},N=function(t,e,n){if("number"!=typeof e||"number"!=typeof n)throw new TypeError('Must specify "to" and "from" arguments as numbers');if(e>n){var a=e;e=n,n=a}var o=n-e;if(0===o)return n;return t-o*Math.floor((t-e)/o)},X=Number.EPSILON;function B(t,e,n){return e<n?t<e?e:t>n?n:t:t<n?n:t>e?e:t}function Y(t,e,n){return t*(1-n)+e*n}function H(t,e,n){return Math.abs(t-e)<X?0:(n-t)/(e-t)}function W(t,e){return e=U(e,0),"number"==typeof t&&isFinite(t)?t:e}function G(t){if("number"!=typeof t)throw new TypeError("Expected dims argument");return function(e,n){var a;n=U(n,0),null==e?a=n:"number"==typeof e&&isFinite(e)&&(a=e);var o,r=[];if(null==a)for(o=0;o<t;o++)r[o]=W(e[o],n);else for(o=0;o<t;o++)r[o]=a;return r}}function K(t,e,n,a){if(a=a||[],t.length!==e.length)throw new TypeError("min and max array are expected to have the same length");for(var o=0;o<t.length;o++)a[o]=Y(t[o],e[o],n);return a}function V(t,e){if("number"!=typeof(t=U(t,0)))throw new TypeError("Expected n argument to be a number");for(var n=[],a=0;a<t;a++)n.push(e);return n}function Z(t,e){return(t%e+e)%e}function J(t,e,n,a){return Y(t,e,1-Math.exp(-n*a))}var Q={mod:Z,fract:function(t){return t-Math.floor(t)},sign:function(t){return t>0?1:t<0?-1:0},degToRad:function(t){return t*Math.PI/180},radToDeg:function(t){return 180*t/Math.PI},wrap:N,pingPong:function(t,e){return t=Z(t,2*e),e-Math.abs(t-e)},linspace:function(t,e){if("number"!=typeof(t=U(t,0)))throw new TypeError("Expected n argument to be a number");"boolean"==typeof(e=e||{})&&(e={endpoint:!0});var n=U(e.offset,0);return e.endpoint?V(t).map((function(e,a){return t<=1?0:(a+n)/(t-1)})):V(t).map((function(e,a){return(a+n)/t}))},lerp:Y,lerpArray:K,inverseLerp:H,lerpFrames:function(t,e,n){e=B(e,0,1);var a=t.length-1,o=e*a,r=Math.floor(o),u=o-r,i=Math.min(r+1,a),s=t[r%t.length],l=t[i%t.length];if("number"==typeof s&&"number"==typeof l)return Y(s,l,u);if(Array.isArray(s)&&Array.isArray(l))return K(s,l,u,n);throw new TypeError("Mismatch in value type of two array elements: "+r+" and "+i)},clamp:B,clamp01:function(t){return B(t,0,1)},smoothstep:function(t,e,n){var a=B(H(t,e,n),0,1);return a*a*(3-2*a)},damp:J,dampArray:function(t,e,n,a,o){o=o||[];for(var r=0;r<t.length;r++)o[r]=J(t[r],e[r],n,a);return o},mapRange:function(t,e,n,a,o,r){if(Math.abs(e-n)<X)return a;var u=(t-e)/(n-e)*(o-a)+a;return r&&(o<a?u<o?u=o:u>a&&(u=a):u>o?u=o:u<a&&(u=a)),u},expand2D:G(2),expand3D:G(3),expand4D:G(4)},tt=1e-6,et=function(){var t=new Float32Array(2);return t[0]=0,t[1]=0,t};var nt=function(t){var e=new Float32Array(2);return e[0]=t[0],e[1]=t[1],e};var at=function(t,e){var n=new Float32Array(2);return n[0]=t,n[1]=e,n};var ot=function(t,e){return t[0]=e[0],t[1]=e[1],t};var rt=function(t,e,n){return t[0]=e,t[1]=n,t};var ut=function(t,e){var n=t[0],a=t[1],o=e[0],r=e[1];return Math.abs(n-o)<=it*Math.max(1,Math.abs(n),Math.abs(o))&&Math.abs(a-r)<=it*Math.max(1,Math.abs(a),Math.abs(r))},it=tt;var st=function(t,e){return t[0]===e[0]&&t[1]===e[1]};var lt=function(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t};var ct=function(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t};var ht=ct,pt=function(t,e,n){return t[0]=e[0]*n[0],t[1]=e[1]*n[1],t};var ft=pt,vt=function(t,e,n){return t[0]=e[0]/n[0],t[1]=e[1]/n[1],t};var dt=vt,mt=function(t,e){return t[0]=1/e[0],t[1]=1/e[1],t};var gt=function(t,e,n){return t[0]=Math.min(e[0],n[0]),t[1]=Math.min(e[1],n[1]),t};var yt=function(t,e,n){return t[0]=Math.max(e[0],n[0]),t[1]=Math.max(e[1],n[1]),t};var wt=function(t,e,n){var a=Math.cos(n),o=Math.sin(n),r=e[0],u=e[1];return t[0]=r*a-u*o,t[1]=r*o+u*a,t};var Mt=function(t,e){return t[0]=Math.floor(e[0]),t[1]=Math.floor(e[1]),t};var bt=function(t,e){return t[0]=Math.ceil(e[0]),t[1]=Math.ceil(e[1]),t};var $t=function(t,e){return t[0]=Math.round(e[0]),t[1]=Math.round(e[1]),t};var xt=function(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t};var Et=function(t,e,n,a){return t[0]=e[0]+n[0]*a,t[1]=e[1]+n[1]*a,t};var Pt=function(t,e){var n=e[0]-t[0],a=e[1]-t[1];return Math.sqrt(n*n+a*a)};var kt=Pt,Lt=function(t,e){var n=e[0]-t[0],a=e[1]-t[1];return n*n+a*a};var Rt=Lt,At=function(t){var e=t[0],n=t[1];return Math.sqrt(e*e+n*n)};var It=At,_t=function(t){var e=t[0],n=t[1];return e*e+n*n};var Tt=_t,Dt=function(t,e){return t[0]=-e[0],t[1]=-e[1],t};var qt=function(t,e){var n=e[0],a=e[1],o=n*n+a*a;o>0&&(o=1/Math.sqrt(o),t[0]=e[0]*o,t[1]=e[1]*o);return t};var St=function(t,e){return t[0]*e[0]+t[1]*e[1]};var Ot=function(t,e,n){var a=e[0]*n[1]-e[1]*n[0];return t[0]=t[1]=0,t[2]=a,t};var zt=function(t,e,n,a){var o=e[0],r=e[1];return t[0]=o+a*(n[0]-o),t[1]=r+a*(n[1]-r),t};var Ct=function(t,e){e=e||1;var n=2*Math.random()*Math.PI;return t[0]=Math.cos(n)*e,t[1]=Math.sin(n)*e,t};var jt=function(t,e,n){var a=e[0],o=e[1];return t[0]=n[0]*a+n[2]*o,t[1]=n[1]*a+n[3]*o,t};var Ft=function(t,e,n){var a=e[0],o=e[1];return t[0]=n[0]*a+n[2]*o+n[4],t[1]=n[1]*a+n[3]*o+n[5],t};var Ut=function(t,e,n){var a=e[0],o=e[1];return t[0]=n[0]*a+n[3]*o+n[6],t[1]=n[1]*a+n[4]*o+n[7],t};var Nt=function(t,e,n){var a=e[0],o=e[1];return t[0]=n[0]*a+n[4]*o+n[12],t[1]=n[1]*a+n[5]*o+n[13],t};var Xt=function(t,e,n,a,o,r){var u,i;e||(e=2);n||(n=0);i=a?Math.min(a*e+n,t.length):t.length;for(u=n;u<i;u+=e)Bt[0]=t[u],Bt[1]=t[u+1],o(Bt,Bt,r),t[u]=Bt[0],t[u+1]=Bt[1];return t},Bt=et();var Yt={EPSILON:tt,create:et,clone:nt,fromValues:at,copy:ot,set:rt,equals:ut,exactEquals:st,add:lt,subtract:ct,sub:ht,multiply:pt,mul:ft,divide:vt,div:dt,inverse:mt,min:gt,max:yt,rotate:wt,floor:Mt,ceil:bt,round:$t,scale:xt,scaleAndAdd:Et,distance:Pt,dist:kt,squaredDistance:Lt,sqrDist:Rt,length:At,len:It,squaredLength:_t,sqrLen:Tt,negate:Dt,normalize:qt,dot:St,cross:Ot,lerp:zt,random:Ct,transformMat2:jt,transformMat2d:Ft,transformMat3:Ut,transformMat4:Nt,forEach:Xt,limit:function(t,e,n){var a=e[0]*e[0]+e[1]*e[1];if(a>n*n){var o=Math.sqrt(a);t[0]=e[0]/o*n,t[1]=e[1]/o*n}else t[0]=e[0],t[1]=e[1];return t}};var Ht=function(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t},Wt=function(t,e,n){var a=e[0],o=e[1],r=e[2],u=n[0],i=n[1],s=n[2];return t[0]=o*s-r*i,t[1]=r*u-a*s,t[2]=a*i-o*u,t},Gt=function(t){var e=t[0],n=t[1],a=t[2];return e*e+n*n+a*a},Kt=[],Vt=[],Zt=[],Jt=function(t,e,n){Ht(Kt,n,e),Ht(Vt,t,e);var a=Gt(Wt(Zt,Vt,Kt)),o=Gt(Kt);if(0===o)throw Error("a and b are the same point");return a/o};function Qt(e){let n,o,r;return{c(){n=l("canvas"),f(n,"width",e[1]),f(n,"height",e[1])},m(t,a){i(t,n,a),e[8](n),o||(r=[p(n,"mousedown",e[2]),p(n,"touchstart",e[3])],o=!0)},p(t,[e]){2&e&&f(n,"width",t[1]),2&e&&f(n,"height",t[1])},i:t,o:t,d(t){t&&s(n),e[8](null),o=!1,a(r)}}}function te(t,e,n){let a,o,{canvas:r}=e,{size:u=1024}=e,{steps:i=4}=e,{name:s}=e,{angle:l=1*Math.PI}=e,{spread:c=.25}=e,h=(t=100,e=10,n=100,a=0)=>{let o=n*Math.sqrt(2)/2,r=2*Math.PI/4,u=.25*Math.PI+a,i=`M ${t+o*Math.cos(u)},${e+o*Math.sin(u)} `;for(let n=0;n<=4;n++){const a=r*n+u;i+=`L ${t+o*Math.cos(a)},${e+o*Math.sin(a)} `}return i+="Z",new Path2D(i)},p=()=>{o=r.getContext("2d"),o.fillStyle="#330011",o.lineWidth=u/200,o.fillRect(0,0,u,u);let t=u-2*a,e=t/i*.65,n=[a,a],s=[u-a,u-a],p=[u/2,u/2],f=[-u,0,0];Yt.rotate(f,f,l),Yt.add(f,f,p);let v=[u,0,0];Yt.rotate(v,v,l),Yt.add(v,v,p),((t=[0,0,100,100],e=10,n=10,a=[.5,.5])=>{const[o,r,u,i]=t,s=u/e,l=i/n,c=s*a[0],h=l*a[1],p=[];for(let t=0;t<=n-1;t++){const n=parseInt(r+t*l+h);for(let t=0;t<=e-1;t++){const e=parseInt(o+t*s+c);p.push([e,n,0])}}return p})([a,a,t,t],i,i,[.5,.5]).map(t=>{let a=function(t,e,n){return Math.sqrt(Jt(t,e,n))}(t,f,v),[r,i]=t,l=Yt.dist(n,t),p=Yt.dist(n,s),d=parseInt(40*Math.random());d=Q.mapRange(l,0,p,0,40,!0);let m=Q.mapRange(l,0,p,30,60,!0);o.fillStyle=`hsl(${d}, 100%, ${m}%)`;let g=Q.mapRange(a,0,u*c,1,0,!0),y=Q.mapRange(Math.random(),0,1,.25*g*-Math.PI,.25*g*Math.PI,!0),w=Q.mapRange(Math.random()*g,0,1,0,0,!0);o.fill(h(r,i,e+w,y)),y=Q.mapRange(Math.random(),0,1,.25*g*-Math.PI,.25*g*Math.PI,!0),w=Q.mapRange(Math.random()*g,0,1,e/2,e/2,!0),o.strokeStyle=`hsla(${d}, 100%, ${m+30}%,${g})`,o.stroke(h(r,i,e-w,y))})};var f;function v(t,e){let{top:a,left:o,width:u,height:i}=r.getBoundingClientRect(),s=o+u/2,h=a+i/2,p=Yt.dist([s,h],[t,e]);n(5,c=(1-p/(u/2)).toFixed(2)),n(5,c=Math.max(c,.05)),n(4,l=Math.atan2(h-e,s-t)),n(4,l=l<0?Math.PI+l:l),n(4,l=l.toFixed(2))}function d(t){v(t.clientX,t.clientY)}function m(t){document.body.style.cursor="default",window.removeEventListener("mousemove",d),window.removeEventListener("mouseup",m)}function y(t){let e=t.changedTouches[0];console.log(e.clientX,e.clientY),v(e.clientX,e.clientY)}function M(t){console.log("touchUp"),document.body.style.cursor="default",window.removeEventListener("touchmove",y),window.removeEventListener("touchend",M)}return f=p,g().$$.on_mount.push(f),function(t){g().$$.after_update.push(t)}(p),t.$$set=t=>{"canvas"in t&&n(0,r=t.canvas),"size"in t&&n(1,u=t.size),"steps"in t&&n(7,i=t.steps),"name"in t&&n(6,s=t.name),"angle"in t&&n(4,l=t.angle),"spread"in t&&n(5,c=t.spread)},t.$$.update=()=>{2&t.$$.dirty&&(a=u/12),178&t.$$.dirty&&n(6,s=`chaos4marius-${i}_columns-angle_${Math.round(Q.radToDeg(l))}-spread_${Math.round(100*c)}-${u}x${u}`)},[r,u,function(t){document.body.style.cursor="ew-resize",v(t.clientX,t.clientY),window.addEventListener("mousemove",d),window.addEventListener("mouseup",m)},function(t){let e=t.touches[0];console.log(e.clientX,e.clientY),v(e.clientX,e.clientY),console.log("touchdown"),window.addEventListener("touchmove",y),window.addEventListener("touchend",M)},l,c,s,i,function(t){w[t?"unshift":"push"](()=>{r=t,n(0,r)})}]}class ee extends j{constructor(t){super(),C(this,t,te,Qt,r,{canvas:0,size:1,steps:7,name:6,angle:4,spread:5})}}var ne=function(t){this.value=t};ne.math={isDegree:!0,acos:function(t){return ne.math.isDegree?180/Math.PI*Math.acos(t):Math.acos(t)},add:function(t,e){return t+e},asin:function(t){return ne.math.isDegree?180/Math.PI*Math.asin(t):Math.asin(t)},atan:function(t){return ne.math.isDegree?180/Math.PI*Math.atan(t):Math.atan(t)},acosh:function(t){return Math.log(t+Math.sqrt(t*t-1))},asinh:function(t){return Math.log(t+Math.sqrt(t*t+1))},atanh:function(t){return Math.log((1+t)/(1-t))},C:function(t,e){var n=1,a=t-e,o=e;o<a&&(o=a,a=e);for(var r=o+1;r<=t;r++)n*=r;return n/ne.math.fact(a)},changeSign:function(t){return-t},cos:function(t){return ne.math.isDegree&&(t=ne.math.toRadian(t)),Math.cos(t)},cosh:function(t){return(Math.pow(Math.E,t)+Math.pow(Math.E,-1*t))/2},div:function(t,e){return t/e},fact:function(t){if(t%1!=0)return"NaN";for(var e=1,n=2;n<=t;n++)e*=n;return e},inverse:function(t){return 1/t},log:function(t){return Math.log(t)/Math.log(10)},mod:function(t,e){return t%e},mul:function(t,e){return t*e},P:function(t,e){for(var n=1,a=Math.floor(t)-Math.floor(e)+1;a<=Math.floor(t);a++)n*=a;return n},Pi:function(t,e,n){for(var a=1,o=t;o<=e;o++)a*=Number(n.postfixEval({n:o}));return a},pow10x:function(t){for(var e=1;t--;)e*=10;return e},sigma:function(t,e,n){for(var a=0,o=t;o<=e;o++)a+=Number(n.postfixEval({n:o}));return a},sin:function(t){return ne.math.isDegree&&(t=ne.math.toRadian(t)),Math.sin(t)},sinh:function(t){return(Math.pow(Math.E,t)-Math.pow(Math.E,-1*t))/2},sub:function(t,e){return t-e},tan:function(t){return ne.math.isDegree&&(t=ne.math.toRadian(t)),Math.tan(t)},tanh:function(t){return ne.sinha(t)/ne.cosha(t)},toRadian:function(t){return t*Math.PI/180}},ne.Exception=function(t){this.message=t};var ae=ne;function oe(t,e){for(var n=0;n<t.length;n++)t[n]+=e;return t}var re=["sin","cos","tan","pi","(",")","P","C"," ","asin","acos","atan","7","8","9","int","cosh","acosh","ln","^","root","4","5","6","/","!","tanh","atanh","Mod","1","2","3","*","sinh","asinh","e","log","0",".","+","-",",","Sigma","n","Pi","pow"],ue=["sin","cos","tan","&pi;","(",")","P","C"," ","asin","acos","atan","7","8","9","Int","cosh","acosh"," ln","^","root","4","5","6","&divide;","!","tanh","atanh"," Mod ","1","2","3","&times;","sinh","asinh","e"," log","0",".","+","-",",","&Sigma;","n","&Pi;","pow"],ie=[ae.math.sin,ae.math.cos,ae.math.tan,"PI","(",")",ae.math.P,ae.math.C," ".anchor,ae.math.asin,ae.math.acos,ae.math.atan,"7","8","9",Math.floor,ae.math.cosh,ae.math.acosh,Math.log,Math.pow,Math.sqrt,"4","5","6",ae.math.div,ae.math.fact,ae.math.tanh,ae.math.atanh,ae.math.mod,"1","2","3",ae.math.mul,ae.math.sinh,ae.math.asinh,"E",ae.math.log,"0",".",ae.math.add,ae.math.sub,",",ae.math.sigma,"n",ae.math.Pi,Math.pow],se={0:11,1:0,2:3,3:0,4:0,5:0,6:0,7:11,8:11,9:1,10:10,11:0,12:11,13:0,14:-1},le=[0,0,0,3,4,5,10,10,14,0,0,0,1,1,1,0,0,0,0,10,0,1,1,1,2,7,0,0,2,1,1,1,2,0,0,3,0,1,6,9,9,11,12,13,12,8],ce={0:!0,1:!0,3:!0,4:!0,6:!0,8:!0,9:!0,12:!0,13:!0,14:!0},he={0:!0,1:!0,2:!0,3:!0,4:!0,5:!0,6:!0,7:!0,8:!0,9:!0,10:!0,11:!0,12:!0,13:!0},pe={0:!0,3:!0,4:!0,8:!0,12:!0,13:!0},fe={},ve={0:!0,1:!0,3:!0,4:!0,6:!0,8:!0,12:!0,13:!0},de={1:!0},me=[[],["1","2","3","7","8","9","4","5","6","+","-","*","/","(",")","^","!","P","C","e","0",".",",","n"," "],["pi","ln","Pi"],["sin","cos","tan","Del","int","Mod","log","pow"],["asin","acos","atan","cosh","root","tanh","sinh"],["acosh","atanh","asinh","Sigma"]];function ge(t,e,n,a){for(var o=0;o<a;o++)if(t[n+o]!==e[o])return!1;return!0}ae.addToken=function(t){for(var e=0;e<t.length;e++){var n=t[e].token.length,a=-1;me[n]=me[n]||[];for(var o=0;o<me[n].length;o++)if(t[e].token===me[n][o]){a=re.indexOf(me[n][o]);break}-1===a?(re.push(t[e].token),le.push(t[e].type),me.length<=t[e].token.length&&(me[t[e].token.length]=[]),me[t[e].token.length].push(t[e].token),ie.push(t[e].value),ue.push(t[e].show)):(re[a]=t[e].token,le[a]=t[e].type,ie[a]=t[e].value,ue[a]=t[e].show)}},ae.lex=function(t,e){var n,a={value:ae.math.changeSign,type:0,pre:21,show:"-"},o={value:")",show:")",type:5,pre:0},r={value:"(",type:4,pre:0,show:"("},u=[r],i=[],s=t,l=ce,c=0,h=fe,p="";void 0!==e&&ae.addToken(e);var f={},v=function(t){for(var e,n,a,o=[],r=t.length,u=0;u<r;u++)if(!(u<r-1&&" "===t[u]&&" "===t[u+1])){for(e="",n=t.length-u>me.length-2?me.length-1:t.length-u;n>0;n--)if(void 0!==me[n])for(a=0;a<me[n].length;a++)ge(t,me[n][a],u,n)&&(e=me[n][a],a=me[n].length,n=0);if(u+=e.length-1,""===e)throw new ae.Exception("Can't understand after "+t.slice(u));var i=re.indexOf(e);o.push({index:i,token:e,type:le[i],eval:ie[i],precedence:se[le[i]],show:ue[i]})}return o}(s);for(n=0;n<v.length;n++){var d=v[n];if(14!==d.type){d.index;var m,g=d.token,y=d.type,w=d.eval,M=d.precedence,b=d.show,$=u[u.length-1];for(m=i.length;m--&&0===i[m];)if(-1!==[0,2,3,4,5,9,11,12,13].indexOf(y)){if(!0!==l[y])throw console.log(t,d,v,l),new ae.Exception(g+" is not allowed after "+p);u.push(o),l=he,h=ve,oe(i,-1).pop()}if(!0!==l[y])throw new ae.Exception(g+" is not allowed after "+p);if(!0===h[y]&&(y=2,w=ae.math.mul,b="&times;",M=3,n-=g.length),f={value:w,type:y,pre:M,show:b},0===y)l=ce,h=fe,oe(i,2).push(2),u.push(f),u.push(r);else if(1===y)1===$.type?($.value+=w,oe(i,1)):u.push(f),l=he,h=pe;else if(2===y)l=ce,h=fe,oe(i,2),u.push(f);else if(3===y)u.push(f),l=he,h=ve;else if(4===y)oe(i,1),c++,l=ce,h=fe,u.push(f);else if(5===y){if(!c)throw new ae.Exception("Closing parenthesis are more than opening one, wait What!!!");c--,l=he,h=ve,u.push(f),oe(i,1)}else if(6===y){if($.hasDec)throw new ae.Exception("Two decimals are not allowed in one number");1!==$.type&&($={value:0,type:1,pre:0},u.push($),oe(i,-1)),l=de,oe(i,1),h=fe,$.value+=w,$.hasDec=!0}else 7===y&&(l=he,h=ve,oe(i,1),u.push(f));8===y?(l=ce,h=fe,oe(i,4).push(4),u.push(f),u.push(r)):9===y?(9===$.type?$.value===ae.math.add?($.value=w,$.show=b,oe(i,1)):$.value===ae.math.sub&&"-"===b&&($.value=ae.math.add,$.show="+",oe(i,1)):5!==$.type&&7!==$.type&&1!==$.type&&3!==$.type&&13!==$.type?"-"===g&&(l=ce,h=fe,oe(i,2).push(2),u.push(a),u.push(r)):(u.push(f),oe(i,2)),l=ce,h=fe):10===y?(l=ce,h=fe,oe(i,2),u.push(f)):11===y?(l=ce,h=fe,u.push(f)):12===y?(l=ce,h=fe,oe(i,6).push(6),u.push(f),u.push(r)):13===y&&(l=he,h=ve,u.push(f)),oe(i,-1),p=g}else if(n>0&&n<v.length-1&&1===v[n+1].type&&(1===v[n-1].type||6===v[n-1].type))throw new ae.Exception("Unexpected Space")}for(m=i.length;m--&&0===i[m];)u.push(o),oe(i,-1).pop();if(!0!==l[5])throw new ae.Exception("complete the expression");for(;c--;)u.push(o);return u.push(o),new ae(u)};var ye=ae;ye.prototype.toPostfix=function(){for(var t,e,n,a,o,r=[],u=[{value:"(",type:4,pre:0}],i=this.value,s=1;s<i.length;s++)if(1===i[s].type||3===i[s].type||13===i[s].type)1===i[s].type&&(i[s].value=Number(i[s].value)),r.push(i[s]);else if(4===i[s].type)u.push(i[s]);else if(5===i[s].type)for(;4!==(e=u.pop()).type;)r.push(e);else if(11===i[s].type){for(;4!==(e=u.pop()).type;)r.push(e);u.push(e)}else{a=(t=i[s]).pre,n=(o=u[u.length-1]).pre;var l="Math.pow"==o.value&&"Math.pow"==t.value;if(a>n)u.push(t);else{for(;n>=a&&!l||l&&a<n;)e=u.pop(),o=u[u.length-1],r.push(e),n=o.pre,l="Math.pow"==t.value&&"Math.pow"==o.value;u.push(t)}}return new ye(r)};var we=ye;we.prototype.postfixEval=function(t){(t=t||{}).PI=Math.PI,t.E=Math.E;for(var e,n,a,o=[],r=this.value,u=void 0!==t.n,i=0;i<r.length;i++)1===r[i].type?o.push({value:r[i].value,type:1}):3===r[i].type?o.push({value:t[r[i].value],type:1}):0===r[i].type||7===r[i].type?void 0===o[o.length-1].type?o[o.length-1].value.push(r[i]):o[o.length-1].value=r[i].value(o[o.length-1].value):8===r[i].type?(e=o.pop(),n=o.pop(),o.push({type:1,value:r[i].value(n.value,e.value)})):10===r[i].type?(e=o.pop(),void 0===(n=o.pop()).type?(n.value=n.concat(e),n.value.push(r[i]),o.push(n)):void 0===e.type?(e.unshift(n),e.push(r[i]),o.push(e)):o.push({type:1,value:r[i].value(n.value,e.value)})):2===r[i].type||9===r[i].type?(e=o.pop(),void 0===(n=o.pop()).type?((n=n.concat(e)).push(r[i]),o.push(n)):void 0===e.type?(e.unshift(n),e.push(r[i]),o.push(e)):o.push({type:1,value:r[i].value(n.value,e.value)})):12===r[i].type?(void 0!==(e=o.pop()).type&&(e=[e]),n=o.pop(),a=o.pop(),o.push({type:1,value:r[i].value(a.value,n.value,new we(e))})):13===r[i].type&&(u?o.push({value:t[r[i].value],type:3}):o.push([r[i]]));if(o.length>1)throw new we.Exception("Uncaught Syntax error");return o[0].value>1e15?"Infinity":parseFloat(o[0].value.toFixed(15))},we.eval=function(t,e,n){return void 0===e?this.lex(t).toPostfix().postfixEval():void 0===n?void 0!==e.length?this.lex(t,e).toPostfix().postfixEval():this.lex(t).toPostfix().postfixEval(e):this.lex(t,e).toPostfix().postfixEval(n)};var Me=we;Me.prototype.formulaEval=function(){for(var t,e,n,a=[],o=this.value,r=0;r<o.length;r++)1===o[r].type||3===o[r].type?a.push({value:3===o[r].type?o[r].show:o[r].value,type:1}):13===o[r].type?a.push({value:o[r].show,type:1}):0===o[r].type?a[a.length-1]={value:o[r].show+("-"!=o[r].show?"(":"")+a[a.length-1].value+("-"!=o[r].show?")":""),type:0}:7===o[r].type?a[a.length-1]={value:(1!=a[a.length-1].type?"(":"")+a[a.length-1].value+(1!=a[a.length-1].type?")":"")+o[r].show,type:7}:10===o[r].type?(t=a.pop(),e=a.pop(),"P"===o[r].show||"C"===o[r].show?a.push({value:"<sup>"+e.value+"</sup>"+o[r].show+"<sub>"+t.value+"</sub>",type:10}):a.push({value:(1!=e.type?"(":"")+e.value+(1!=e.type?")":"")+"<sup>"+t.value+"</sup>",type:1})):2===o[r].type||9===o[r].type?(t=a.pop(),e=a.pop(),a.push({value:(1!=e.type?"(":"")+e.value+(1!=e.type?")":"")+o[r].show+(1!=t.type?"(":"")+t.value+(1!=t.type?")":""),type:o[r].type})):12===o[r].type&&(t=a.pop(),e=a.pop(),n=a.pop(),a.push({value:o[r].show+"("+n.value+","+e.value+","+t.value+")",type:12}));return a[0].value};var be=Me;function $e(e){let n,o,r,d,m,g,y;return{c(){n=l("label"),o=l("span"),r=c(e[0]),d=h(),m=l("input"),f(o,"class","svelte-4zqkzr"),f(m,"type","text"),f(m,"class","svelte-4zqkzr"),f(n,"class","svelte-4zqkzr")},m(t,a){i(t,n,a),u(n,o),u(o,r),u(n,d),u(n,m),v(m,e[1]),g||(y=[p(o,"mousedown",e[2]),p(m,"change",e[3]),p(m,"input",e[8])],g=!0)},p(t,[e]){1&e&&function(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}(r,t[0]),2&e&&m.value!==t[1]&&v(m,t[1])},i:t,o:t,d(t){t&&s(n),g=!1,a(y)}}}function xe(t,e,n){let a;var{label:o="x"}=e,{value:r=50}=e,{min:u=0}=e,{max:i=1e3}=e,{step:s=1}=e;let l=0,c=0;function h(t){c=t.clientX-l,l=t.clientX;let e=r+c*s;n(4,r=Math.max(u,Math.min(i,e))),n(1,a=r)}function p(t){document.body.style.cursor="default",window.removeEventListener("mousemove",h),window.removeEventListener("mouseup",p)}return t.$$set=t=>{"label"in t&&n(0,o=t.label),"value"in t&&n(4,r=t.value),"min"in t&&n(5,u=t.min),"max"in t&&n(6,i=t.max),"step"in t&&n(7,s=t.step)},t.$$.update=()=>{16&t.$$.dirty&&n(1,a=r)},[o,a,function(t){document.body.style.cursor="ew-resize",l=t.clientX,window.addEventListener("mousemove",h),window.addEventListener("mouseup",p)},function(t){let e=be.eval(""+a);n(4,r=n(4,r=Math.max(u,Math.min(i,e)))),n(1,a=r)},r,u,i,s,function(){a=this.value,n(1,a),n(4,r)}]}class Ee extends j{constructor(t){super(),C(this,t,xe,$e,r,{label:0,value:4,min:5,max:6,step:7})}}var Pe;function ke(t){let e,n,a,o,r,c,v,d,m,g,y,M,b,$,x,E,k,L;function R(e){t[7](e)}function A(e){t[8](e)}function I(e){t[9](e)}function z(e){t[10](e)}let C={size:t[1],steps:t[2]};function j(e){t[11](e)}void 0!==t[5]&&(C.angle=t[5]),void 0!==t[4]&&(C.spread=t[4]),void 0!==t[3]&&(C.canvas=t[3]),void 0!==t[0]&&(C.name=t[0]),n=new ee({props:C}),w.push(()=>D(n,"angle",R)),w.push(()=>D(n,"spread",A)),w.push(()=>D(n,"canvas",I)),w.push(()=>D(n,"name",z));let F={label:"w",min:400,max:3e3,step:8};function U(e){t[12](e)}void 0!==t[1]&&(F.value=t[1]),m=new Ee({props:F}),w.push(()=>D(m,"value",j));let N={label:"c",min:3,max:24};return void 0!==t[2]&&(N.value=t[2]),M=new Ee({props:N}),w.push(()=>D(M,"value",U)),{c(){e=l("div"),q(n.$$.fragment),v=h(),d=l("div"),q(m.$$.fragment),y=h(),q(M.$$.fragment),$=h(),x=l("button"),x.textContent="Download Image",f(x,"class","svelte-f50ngv"),f(d,"class","ui svelte-f50ngv")},m(a,o){i(a,e,o),S(n,e,null),i(a,v,o),i(a,d,o),S(m,d,null),u(d,y),S(M,d,null),u(d,$),u(d,x),E=!0,k||(L=p(x,"click",t[6]),k=!0)},p(t,[e]){const u={};2&e&&(u.size=t[1]),4&e&&(u.steps=t[2]),!a&&32&e&&(a=!0,u.angle=t[5],P(()=>a=!1)),!o&&16&e&&(o=!0,u.spread=t[4],P(()=>o=!1)),!r&&8&e&&(r=!0,u.canvas=t[3],P(()=>r=!1)),!c&&1&e&&(c=!0,u.name=t[0],P(()=>c=!1)),n.$set(u);const i={};!g&&2&e&&(g=!0,i.value=t[1],P(()=>g=!1)),m.$set(i);const s={};!b&&4&e&&(b=!0,s.value=t[2],P(()=>b=!1)),M.$set(s)},i(t){E||(_(n.$$.fragment,t),_(m.$$.fragment,t),_(M.$$.fragment,t),E=!0)},o(t){T(n.$$.fragment,t),T(m.$$.fragment,t),T(M.$$.fragment,t),E=!1},d(t){t&&s(e),O(n),t&&s(v),t&&s(d),O(m),O(M),k=!1,L()}}}function Le(t,e,n){let a,o,r=1024,u=12,i=.15,s=.25*Math.PI;return[a,r,u,o,i,s,()=>{let t=a+".png";o.toBlob((function(e){saveAs(e,t)}))},function(t){s=t,n(5,s)},function(t){i=t,n(4,i)},function(t){o=t,n(3,o)},function(t){a=t,n(0,a)},function(t){r=t,n(1,r)},function(t){u=t,n(2,u)}]}Pe={exports:{}},function(){function t(t,e){return void 0===e?e={autoBom:!1}:"object"!=typeof e&&(console.warn("Deprecated: Expected third argument to be a object"),e={autoBom:!e}),e.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(t.type)?new Blob(["\ufeff",t],{type:t.type}):t}function e(t,e,n){var a=new XMLHttpRequest;a.open("GET",t),a.responseType="blob",a.onload=function(){u(a.response,e,n)},a.onerror=function(){console.error("could not download file")},a.send()}function n(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch(t){}return 200<=e.status&&299>=e.status}function a(t){try{t.dispatchEvent(new MouseEvent("click"))}catch(n){var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(e)}}var o="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof F&&F.global===F?F:void 0,r=o.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),u=o.saveAs||("object"!=typeof window||window!==o?function(){}:"download"in HTMLAnchorElement.prototype&&!r?function(t,r,u){var i=o.URL||o.webkitURL,s=document.createElement("a");r=r||t.name||"download",s.download=r,s.rel="noopener","string"==typeof t?(s.href=t,s.origin===location.origin?a(s):n(s.href)?e(t,r,u):a(s,s.target="_blank")):(s.href=i.createObjectURL(t),setTimeout((function(){i.revokeObjectURL(s.href)}),4e4),setTimeout((function(){a(s)}),0))}:"msSaveOrOpenBlob"in navigator?function(o,r,u){if(r=r||o.name||"download","string"!=typeof o)navigator.msSaveOrOpenBlob(t(o,u),r);else if(n(o))e(o,r,u);else{var i=document.createElement("a");i.href=o,i.target="_blank",setTimeout((function(){a(i)}))}}:function(t,n,a,u){if((u=u||open("","_blank"))&&(u.document.title=u.document.body.innerText="downloading..."),"string"==typeof t)return e(t,n,a);var i="application/octet-stream"===t.type,s=/constructor/i.test(o.HTMLElement)||o.safari,l=/CriOS\/[\d]+/.test(navigator.userAgent);if((l||i&&s||r)&&"undefined"!=typeof FileReader){var c=new FileReader;c.onloadend=function(){var t=c.result;t=l?t:t.replace(/^data:[^;]*;/,"data:attachment/file;"),u?u.location.href=t:location=t,u=null},c.readAsDataURL(t)}else{var h=o.URL||o.webkitURL,p=h.createObjectURL(t);u?u.location=p:location.href=p,u=null,setTimeout((function(){h.revokeObjectURL(p)}),4e4)}});o.saveAs=u.saveAs=u,Pe.exports=u}();return new class extends j{constructor(t){super(),C(this,t,Le,ke,r,{})}}({target:document.body})}();
//# sourceMappingURL=bundle.js.map
